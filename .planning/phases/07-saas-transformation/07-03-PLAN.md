---
phase: 07-saas-transformation
plan: 03
type: execute
---

<objective>
Create the demo page UI that allows users to try documentation generation without signing up.

Purpose: Deliver the "try without signup" user experience - the primary conversion event.
Output: Functional /try page with form, loading states, result display, and upsell components.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/ARCHITECTURE.md
@src/lib/components/DocEditor.svelte
@src/lib/stores/toast.ts

**Tech stack available:** Svelte 5, Tailwind CSS, marked for markdown
**Established patterns:** PascalCase components, reactive statements, toast notifications
**Dependencies:** Plan 07-02 must be complete (/api/try endpoint)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create demo page</name>
  <files>src/routes/try/+page.svelte</files>
  <action>
Create the try-without-signup demo page:

```svelte
<script lang="ts">
  import { page } from '$app/stores';
  import { marked } from 'marked';
  import LockedDocPreview from '$lib/components/LockedDocPreview.svelte';
  import { toastStore } from '$lib/stores/toast';

  // Auto-populate from URL param if present
  let githubUrl = $page.url.searchParams.get('url') || '';
  let isLoading = false;
  let loadingStage = '';
  let generatedReadme = '';
  let repoName = '';
  let error = '';
  let limitReached = false;

  async function handleSubmit() {
    // Reset state
    error = '';
    generatedReadme = '';
    limitReached = false;
    isLoading = true;

    try {
      // Stage 1: Validating
      loadingStage = 'Validating repository...';
      await new Promise(r => setTimeout(r, 500));

      // Stage 2: Analyzing
      loadingStage = 'Analyzing codebase...';

      const response = await fetch('/api/try', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ githubUrl })
      });

      const data = await response.json();

      if (!response.ok) {
        if (response.status === 429) {
          limitReached = true;
          error = data.message;
        } else {
          error = data.message || 'Failed to generate documentation';
        }
        return;
      }

      // Stage 3: Generating
      loadingStage = 'Generating README...';
      await new Promise(r => setTimeout(r, 300));

      generatedReadme = data.readme;
      repoName = data.repoName;
      toastStore.success('README generated successfully!');

    } catch (err) {
      error = 'Something went wrong. Please try again.';
      console.error('Demo generation error:', err);
    } finally {
      isLoading = false;
      loadingStage = '';
    }
  }

  $: renderedMarkdown = generatedReadme ? marked(generatedReadme) : '';
</script>
```

Layout structure:
- Dark theme matching site (#09090b background)
- Hero: "See it work." headline
- Large input field for GitHub URL with "Generate README ‚Üí" button
- Loading state: Progress bar with stage text
- Success state:
  - Generated README in styled code block with copy button
  - "Get the complete documentation suite:" section
  - Three LockedDocPreview cards (API, Architecture, Setup)
  - CTA: "Get all 4 doc types ‚Äî Start free trial"
- Limit reached state:
  - Friendly message about daily limit
  - CTA: "Start 7-day free trial ‚Üí"
- Error state: Red error message with retry option
- Footer link back to homepage

Style with Tailwind CSS, matching existing dark theme. Use green accent (#10b981) for CTAs.
  </action>
  <verify>Page loads at http://localhost:5173/try without errors</verify>
  <done>
- /try page renders with form
- Loading states display correctly
- Result shows generated README
- Error states handled gracefully
  </done>
</task>

<task type="auto">
  <name>Task 2: Create locked doc preview component</name>
  <files>src/lib/components/LockedDocPreview.svelte</files>
  <action>
Create upsell component for locked documentation types:

```svelte
<script lang="ts">
  export let docType: 'api' | 'architecture' | 'setup';

  const docConfig = {
    api: {
      icon: 'üîå',
      title: 'API Documentation',
      preview: 'Auto-detected endpoints, examples, auth docs...'
    },
    architecture: {
      icon: 'üó∫Ô∏è',
      title: 'Architecture Diagram',
      preview: 'Component relationships, data flow, Mermaid.js...'
    },
    setup: {
      icon: 'üöÄ',
      title: 'Setup Guide',
      preview: 'Environment, dependencies, deployment...'
    }
  };

  $: config = docConfig[docType];
</script>

<a
  href="/auth/login?intent=trial&tier=founder"
  class="block p-6 rounded-lg border border-zinc-800 bg-zinc-900/50 hover:border-emerald-500/50 transition-all group relative overflow-hidden"
>
  <!-- Blurred preview effect -->
  <div class="absolute inset-0 bg-gradient-to-t from-zinc-900 to-transparent z-10"></div>

  <div class="relative z-20">
    <div class="flex items-center gap-3 mb-3">
      <span class="text-2xl">{config.icon}</span>
      <h3 class="font-semibold text-white">{config.title}</h3>
      <span class="ml-auto text-zinc-500">üîí</span>
    </div>

    <p class="text-zinc-500 text-sm blur-[2px]">{config.preview}</p>

    <div class="mt-4 text-emerald-400 text-sm font-medium group-hover:text-emerald-300">
      Unlock with Founder plan ‚Üí
    </div>
  </div>
</a>
```

Component should:
- Accept docType prop for API, Architecture, or Setup
- Show appropriate icon and title
- Have blurred preview text effect
- Link to /auth/login?intent=trial&tier=founder
- Hover state with border highlight
  </action>
  <verify>Component renders without errors when imported</verify>
  <done>LockedDocPreview.svelte created with all three doc type variants</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Demo page at /try with full generation flow and upsell components</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Visit: http://localhost:5173/try
    3. Enter a public GitHub URL (e.g., https://github.com/sveltejs/kit)
    4. Click "Generate README ‚Üí"
    5. Verify: Loading stages appear in sequence
    6. Verify: Generated README displays with proper formatting
    7. Verify: Three locked doc preview cards appear below
    8. Verify: CTAs link to login with correct intent params
    9. Test error: Enter invalid URL, verify error message
    10. Mobile: Check responsive layout on narrow viewport
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run check` passes
- [ ] `npm run build` succeeds
- [ ] /try page loads and form submits
- [ ] LockedDocPreview component renders correctly
- [ ] Human verification approved
</verification>

<success_criteria>
- /try page fully functional with all states
- LockedDocPreview component reusable
- Loading states provide feedback
- Error handling is user-friendly
- Mobile responsive
- Human verification passed
</success_criteria>

<output>
After completion, create `.planning/phases/07-saas-transformation/07-03-SUMMARY.md`
</output>
